<!DOCTYPE html>
<html>

<head>
  <title>Intermediate</title>
</head>

<body>
  <h1> Intermediate Tasks</h1>
  <h3> Interation 3</h3>
  <script>
    function start() {
      var num = 50;
      var three = "Awe";
      var five = "Some";
      loop(num, three, five);
    }

    function loop(num, three, five) {
      for (var i = 1; i <= num; i++) {

        if (i % 3 === 0 && i % 5 === 0) {

          console.log(three.concat(five));
        } else if (i % 3 === 0) {
          console.log(three);
        } else if (i % 5 === 0) {
          console.log(five);
        } else {
          console.log(i);
        }
      }
    }
  </script>
  <button type="button" onclick="start()"> Fizz buzz it! </button>

  <h3> Iteration 4</h3>
  <script>
    function start() {
      var number = 99;
      divide(99);
    }

    function divide(num) {
      console.log(num);
      var count = 0;
      while (num !== 1) {
        if (num % 3 === 0) {
          console.log(num + " is divisible by 3");
          num = num / 3;
        } else if ((num + 1) % 3 === 0) {
          console.log(num + " is not divisible by 3 so adding 1");
          num = num + 1;
          console.log(num + " is the new number and now divide by 3");
          num = num / 3;
        } else {
          console.log(num + " is not divisible by 3 so subtracting 1");
          num = num - 1;
          console.log(num + " is the new number and now divide by 3");
          num = num / 3;
        }
        console.log(num + " is the new number");
        count++;

      }
      console.log("It took " + count + " iterations to divide the number");
    }
  </script>
  <button type="button" onclick="start()"> Divide it! </button>

  <h3>Strings 4</h3>

  <script>
    function triple() {
      var str = " abcXXXabc";
      var res = str.split("");
      var mtc = res[0];
      var count = 0;
      var final = 0;

      for (var i = 1; i <= str.length; i++) {

        if (mtc === res[i]) {

          count++

          if (count >= 2) {
            final++;
          }
        } else {
          count = 0;
          mtc = res[i];
        }

      }
      console.log(final);
    }
  </script>
  <button type="button" onclick="triple()"> Triple it! </button>

  <h3> DOM 1</h3>

  <script>
    function create() {
      var para = document.createElement("P");
      para.id = 'mypara';
      var t = document.createTextNode("This is a paragraph.");
      para.appendChild(t);
      document.body.appendChild(para);
    }

    function edit() {
      var para = document.getElementById("para").value;
      document.getElementById('mypara').innerHTML = para;

    }

    function deleteP() {
      document.getElementById("mypara").innerHTML = "";
    }
  </script>
  <button type="button" onclick="create()"> Create it! </button><br>
  <label> Enter words: </label> <input type=t ext id="para"><br>
  <button type="button" onclick="edit()"> Edit it! </button>
  <button type="button" onclick="deleteP()"> Delete it! </button>

  <div id='mydiv'>
    <h3> JSON 1</h3>
    <div>
      <p id='mypara'></p>
      <script>
        function request() {

          var requestURL = 'https://raw.githubusercontent.com/ewomackQA/JSONDataRepo/master/example.json';
          var request = new XMLHttpRequest();
          request.open('GET', requestURL);
          request.responseType = 'json'
          request.send();
          request.onload = function () {
            var requestData = request.response;
            var myH1 = document.createElement('h1');

            myH1.textContent = requestData['squadName'];
            document.getElementById('mypara').appendChild(myH1);
            for (x in requestData) {
              if (x === "members") {
                mem(requestData.members);
                break;
              }
              document.getElementById("mypara").innerHTML += requestData[x];
              document.getElementById("mypara").innerHTML += "<br>";


            }
          }
        }

        function mem(members) {
          for (y in members) {
            //add counter here in order to format later on 

            document.getElementById("mypara").innerHTML += "Name: " + members[y].name + " Age:" + members[y].age +
              " \tSecret Identity:" + members[y].secretIdentity + " \tPowers:" + members[y].powers + " ";


            document.getElementById("mypara").innerHTML += "<br>";
          }
        }
      </script>
      <button type="button" onclick="request()"> request it! </button>

      <h3> JSON 2</h3>

      <script>
        function search() {
          var find = document.getElementById("label").value;
          var requestURL = 'https://raw.githubusercontent.com/ewomackQA/JSONDataRepo/master/kings.json';
          var request = new XMLHttpRequest();
          request.open('GET', requestURL);
          request.responseType = 'json'
          request.send();
          request.onload = function () {
            var requestData = request.response;
            //console.log(requestData);

            //console.log(requestData.length);


            // for (let i = 0; i <= requestData.length; i++) {
            // console.log(requestData[i]);
            /*for (let j = 0; j <= 4; j++) {
              //console.log(requestData[i]);
              //console.log(requestData[i][j]);
              console.log(requestData[i][j]);
            }*/
            //console.log(requestData[i].nm);
            /*
              if (requestData[i].nm === find) {

                //for(var j=0; j<=4; j++){
                requestData[i].toString();
                document.getElementById("sp").innerHTML += requestData[i];


              }



            }*/

            for (let i = 0; i <= requestData.length; i++) {

              if (requestData[i].nm === find) {
                //for(var j=0; j<=4; j++){
                document.getElementById("sp").innerHTML += requestData[i].nm;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].cty;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].hse;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].yrs;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += "<br>";

              }
              if (requestData[i].cty === find) {
                //for(var j=0; j<=4; j++){
                document.getElementById("sp").innerHTML += requestData[i].nm;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].cty;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].hse;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].yrs;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += "<br>";

              }
              if (requestData[i].hse === find) {
                //for(var j=0; j<=4; j++){
                document.getElementById("sp").innerHTML += requestData[i].nm;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].cty;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].hse;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].yrs;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += "<br>";

              }
              if (requestData[i].yrs === find) {
                //for(var j=0; j<=4; j++){
                document.getElementById("sp").innerHTML += requestData[i].nm;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].cty;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].hse;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += requestData[i].yrs;
                document.getElementById("sp").innerHTML += "<br>";
                document.getElementById("sp").innerHTML += "<br>";

              }
             
            }

          }
        }
      </script>
      <script>
      </script>
      <label> Enter search term: </label> <input type=t ext id="label"><br>
      <button type="button" onClick="search()">Search it!</button>
      <p id="sp"> </p>
</body>

</html>